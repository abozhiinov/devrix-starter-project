!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var r=n(2),o=(n.n(r),n(3)),i=(n.n(o),n(4)),u=(n.n(i),n(5)),c=(n.n(u),n(6)),s=(n.n(c),n(7)),l=(n.n(s),n(8)),__=(n.n(l),n(9),wp.i18n.__);(0,wp.blocks.registerBlockType)("cgb/block-students-block",{title:__("Student Block"),icon:"businessperson",category:"common",keywords:[__("students-block \u2014 CGB Block"),__("CGB Example"),__("create-guten-block")],attributes:{number_of_students:{type:"string",selector:".number-of-students",default:"0"},active:{type:"checkbox",selector:".active",default:!1},student_id:{type:"string",selector:".student-id",default:"0"},posts_final:{type:"array",default:[{title:"",thumbnail:""}]}},edit:function(e){var t=e.attributes,n=e.setAttributes,r=Object(s.pickBy)({per_page:Number(t.number_of_students),_embed:!0,metaKey:"status"});"0"!==t.student_id&&(r=Object(s.pickBy)({include:Number(t.student_id),per_page:parseInt(t.number_of_students),_embed:!0,metaKey:"status"}));var o=Object(l.useSelect)(function(e){return e("core").getEntityRecords("postType","student",r)},[]);n({posts_final:o});var a=t.number_of_students.length&&!t.student_id.length,d=t.student_id.length&&!t.number_of_students.length;return wp.element.createElement(u.Fragment,null,wp.element.createElement(i.InspectorControls,null,wp.element.createElement(c.PanelBody,{title:__("Settings"),initialOpen:!0},wp.element.createElement(c.PanelRow,null,wp.element.createElement(c.TextControl,{className:"number-of-students",label:__("Number of Students","students-block"),help:__("When an ID is provided, this field is disabled"),placeholder:__("Type a number..."),value:t.number_of_students,onChange:function(e){n({number_of_students:e})},min:"0",disabled:d})),wp.element.createElement(c.PanelRow,null,wp.element.createElement(c.CheckboxControl,{className:"active",label:__("Show Active / Inactive","students-block"),onChange:function(e){n({active:e})},type:"checkbox",checked:t.active})),wp.element.createElement(c.PanelRow,null,wp.element.createElement(c.TextControl,{className:"student-id",label:__("Select Student by ID","students-block"),help:__("When number of students is filled, this field is disabled"),placeholder:__("Type an ID..."),onChange:function(e){n({student_id:e})},value:t.student_id,min:"0",disabled:a})))),wp.element.createElement("div",{className:e.className},o&&wp.element.createElement("div",null,o.map(function(e){if(e.meta.status===t.active){var n=e&&e._embedded&&e._embedded["wp:featuredmedia"][0].source_url;return wp.element.createElement("div",{className:"single-student"},wp.element.createElement("div",{className:"student-title"},e.title.rendered),wp.element.createElement("img",{src:n}))}}))))},save:function(e){var t=e.attributes;return wp.element.createElement("div",{className:e.className},t.posts_final.map(function(e){var t=e&&e._embedded&&e._embedded["wp:featuredmedia"][0].source_url;return wp.element.createElement("div",{className:"single-student"},wp.element.createElement("div",{className:"student-title"}," ",wp.element.createElement("a",{href:e.link}," ",e.title.rendered," ")," "),wp.element.createElement("img",{src:t}))}))}})},function(e,t){},function(e,t){},function(e,t){e.exports=wp.blockEditor},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.components},function(e,t){e.exports=lodash},function(e,t){e.exports=wp.data},function(e,t,n){"use strict";(function(e){function t(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function r(){}var o=(n(11),function(){"function"===typeof Symbol&&Symbol.observable}(),function(){return Math.random().toString(36).substring(7).split("").join(".")});o(),o();"production"!==e.env.NODE_ENV&&"string"===typeof r.name&&"isCrushed"!==r.name&&t('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.')}).call(t,n(10))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){b&&m&&(b=!1,m.length?p=m.concat(p):h=-1,p.length&&c())}function c(){if(!b){var e=o(u);b=!0;for(var t=p.length;t;){for(m=p,p=[];++h<t;)m&&m[h].run();h=-1,t=p.length}m=null,b=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var a,d,f=e.exports={};!function(){try{a="function"===typeof setTimeout?setTimeout:n}catch(e){a=n}try{d="function"===typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var m,p=[],b=!1,h=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||b||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.a=o;var i=n(12)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=r}]);